(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62249,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(80514),s=e.i(36494),r=e.i(85454),l=e.i(20847);function a(e){let{children:a}=e,{isAuthenticated:i,isLoading:n}=(0,s.useAuth)(),c=(0,r.useRouter)();return((0,l.useEffect)(()=>{n||i||c.push("/admin/login")},[i,n,c]),n)?(0,t.jsx)("div",{className:"cinematic-bg min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-300",children:"Loading..."})]})}):i?(0,t.jsx)(t.Fragment,{children:a}):null}},8003,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(80514),s=e.i(20847);function r(e){let{value:r,onChange:l,placeholder:a="Write your post content in Markdown...",className:i=""}=e,[n,c]=(0,s.useState)(!1),[o,d]=(0,s.useState)("");return(0,s.useEffect)(()=>{n&&d(r.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold text-gray-900 mb-3 mt-6">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold text-gray-900 mb-4 mt-8">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold text-gray-900 mb-4 mt-8">$1</h1>').replace(/\*\*(.*)\*\*/gim,'<strong class="font-semibold text-gray-900">$1</strong>').replace(/\*(.*)\*/gim,'<em class="italic">$1</em>').replace(/```([\s\S]*?)```/gim,'<pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto my-6"><code class="text-sm font-mono">$1</code></pre>').replace(/`([^`]*)`/gim,'<code class="bg-gray-100 text-pink-600 px-2 py-1 rounded text-sm font-mono">$1</code>').replace(/\[([^\]]*)\]\(([^\)]*)\)/gim,'<a href="$2" class="text-blue-600 hover:text-blue-800 underline">$1</a>').replace(/\n/gim,"<br>").replace(/^\* (.*$)/gim,'<li class="ml-4 list-disc">$1</li>').replace(/^- (.*$)/gim,'<li class="ml-4 list-disc">$1</li>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4 list-decimal">$1</li>'))},[r,n]),(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden ".concat(i),children:[(0,t.jsxs)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-2 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-3 py-1 text-sm rounded ".concat(n?"text-gray-600 hover:text-gray-900":"bg-blue-600 text-white"),children:"Write"}),(0,t.jsx)("button",{type:"button",onClick:()=>c(!0),className:"px-3 py-1 text-sm rounded ".concat(n?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900"),children:"Preview"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:[r.length," characters"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:[r.split("\n").length," lines"]})]})]}),(0,t.jsx)("div",{className:"relative",children:n?(0,t.jsx)("div",{className:"w-full h-96 px-4 py-3 prose prose-sm max-w-none overflow-y-auto",style:{minHeight:"400px"},dangerouslySetInnerHTML:{__html:o}}):(0,t.jsx)("textarea",{value:r,onChange:e=>l(e.target.value),placeholder:a,className:"w-full h-96 px-4 py-3 border-0 focus:ring-0 focus:outline-none font-mono text-sm resize-none",style:{minHeight:"400px"}})}),!n&&(0,t.jsx)("div",{className:"bg-gray-50 border-t border-gray-200 px-4 py-2",children:(0,t.jsxs)("details",{className:"text-xs text-gray-600",children:[(0,t.jsx)("summary",{className:"cursor-pointer hover:text-gray-900",children:"Markdown Help"}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-4 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Headers:"}),(0,t.jsx)("br",{}),"# H1",(0,t.jsx)("br",{}),"## H2",(0,t.jsx)("br",{}),"### H3"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Text:"}),(0,t.jsx)("br",{}),"**bold**",(0,t.jsx)("br",{}),"*italic*",(0,t.jsx)("br",{}),"`code`"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Lists:"}),(0,t.jsx)("br",{}),"- Item 1",(0,t.jsx)("br",{}),"- Item 2",(0,t.jsx)("br",{}),"1. Numbered"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Links:"}),(0,t.jsx)("br",{}),"[text](url)",(0,t.jsx)("br",{}),"```code block```"]})]})]})})]})}},20534,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(80514),s=e.i(20847),r=e.i(85454),l=e.i(97290),a=e.i(8003),i=e.i(62249);function n(e){let{params:n}=e,c=(0,r.useRouter)(),[o,d]=(0,s.useState)({title:"",date:"",excerpt:"",content:""}),[x,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/posts/".concat(n.slug));if(e.ok){let t=await e.json();d({title:t.title,date:t.date,excerpt:t.excerpt,content:t.content})}}catch(e){console.error("Error loading post:",e)}finally{p(!1)}})()},[n.slug]);let h=async e=>{e.preventDefault(),m(!0);try{(await fetch("/api/posts/".concat(n.slug),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?c.push("/admin"):console.error("Failed to update post")}catch(e){console.error("Error updating post:",e)}finally{m(!1)}},g=e=>{d({...o,[e.target.name]:e.target.value})};return u?(0,t.jsx)("div",{className:"cinematic-bg min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-300",children:"Loading post..."})]})}):(0,t.jsx)(i.default,{children:(0,t.jsx)("div",{className:"cinematic-bg min-h-screen",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Edit Post"}),(0,t.jsx)("p",{className:"text-gray-300 mt-2",children:"Update your blog post"})]}),(0,t.jsx)("div",{className:"glass rounded-2xl",children:(0,t.jsxs)("form",{onSubmit:h,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",id:"title",name:"title",value:o.title,onChange:g,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter post title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",id:"date",name:"date",value:o.date,onChange:g,required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-300 mb-2",children:"Excerpt"}),(0,t.jsx)("textarea",{id:"excerpt",name:"excerpt",value:o.excerpt,onChange:g,required:!0,rows:3,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Brief description of the post"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-300 mb-2",children:"Content (Markdown)"}),(0,t.jsx)(a.default,{value:o.content,onChange:e=>d({...o,content:e}),placeholder:"Write your post content in Markdown..."})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(l.default,{href:"/admin",className:"pill-button pill-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"pill-button pill-primary disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Updating...":"Update Post"})]})]})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsxs)(l.default,{href:"/admin",className:"pill-button pill-secondary",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Admin"]})})]})})})}}]);